!function(){var o=function(o,t,n,e,r){var i=this;i.titulo="Controla tu Cash Flow",e.maestrosLocal?r.get("maestros.json").success(function(o){i.maestros=o}):i.maestros=t.get(),i.nuevoMovimiento={esIngreso:1,esGasto:0,importe:0,fecha:new Date,rating:5},i.total={ingresos:0,gastos:0},i.movimientos=o.query(),i.total=n.get(),i.funciones={},i.funciones.guardarMovimiento=function(){var t=angular.copy(i.nuevoMovimiento);t.tipo=i.funciones.tipo(t);var e=new o(t);e.$save(),i.movimientos=o.query(),i.total=n.get(),i.nuevoMovimiento.importe=0},i.funciones.balance=function(){return i.total.ingresos-i.total.gastos},i.funciones.tipo=function(o){return o.esIngreso&&"Ingreso"||"Gasto"}};controlCajaApp.controller("ControlCajaCtrl",["movimientosFactory","maestrosFactory","totalFactory","cfg","$http",o])}();